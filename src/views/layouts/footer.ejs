<h1>el footer</h1>

<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        var modals = document.querySelectorAll('.modal');
        M.Modal.init(modals);
    });
</script>
<script>
    function cargarDatosCliente(id, email, name, lastname, contact, details) {
        // traigo los respectivos datos del cliente
        document.getElementById('emailEditar').value = email;
        document.getElementById('nameEditar').value = name;
        document.getElementById('lastnameEditar').value = lastname;
        document.getElementById('contactEditar').value = contact;
        document.getElementById('detailsEditar').value = details;
        // Cambia valor de btn
        document.getElementById('formEditar').setAttribute('action', '/perfilAdmin/update/' + id);
        document.querySelector('#modalEditar h4').textContent = 'Editar';
    }
</script>
<script>
    document.getElementById('formEditar').addEventListener('submit', async function(event) {
        const clientId = document.getElementById('clientId').value; // Obtengo ID cliente
        const formData = new FormData(this); // Obtengo los datos del form
        try {
            const response = await fetch(`/perfilAdmin/update/${clientId}`, {
                method: 'PUT',
                body: formData
            });
            if (response.ok) {
                console.log('Recargando la página...');
location.reload();
                // const data = await response.json();
                // Aquí puedes realizar acciones adicionales después de la actualización
                //como porejemplo dejarle un mensaje de cliente actualizado exitosamente
            } else {
                console.error('Error al actualizar el cliente');
            }
        } catch (error) {
            console.error('Error de red:', error);
        }
    });
</script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        var elems = document.querySelectorAll('select');
        var instances = M.FormSelect.init(elems);
        const signupForm = document.getElementById('signupForm');
        const signinForm = document.getElementById('signinForm');

        function validateForm(form) {
            const inputs = form.querySelectorAll('.validate');
            for (let i = 0; i < inputs.length; i++) {
                if (!inputs[i].value.trim()) {
                    return false;
                }
            }   
            return true;
        }
        function addFormSubmitListener(form) {
            form.addEventListener('submit', function(event) {
                if (!validateForm(form)) {
                    event.preventDefault();
                    M.toast({html: 'Por favor, rellena los campos.', classes: 'red'});
                }
            });
        }
        if (signupForm) {
            addFormSubmitListener(signupForm);
        }
        if (signinForm) {
            addFormSubmitListener(signinForm);
        }
    });
</script>

</body>
</html>